<table>
    <thead>
        <tr>
            <th>Ticket ID</th>
            <th>Client (Email)</th>
            <th>Problème</th>
            <th>Description</th>
            <th>Statut</th>
            <th>Date d'ouverture</th>
            <th>Date de fermeture</th>
        </tr>
    </thead>
    <tbody id="tickets-body">
        <!-- Les données des tickets seront insérées ici -->
    </tbody>
</table>

<script>
    // Fonction pour afficher les tickets dans le tableau
    function updateTicketsTable() {
        const tickets = JSON.parse(localStorage.getItem('tickets')) || [];
        const statsBody = document.getElementById('tickets-body');
        statsBody.innerHTML = ''; // Vide le tableau avant de le mettre à jour

        tickets.forEach(ticket => {
            const row = document.createElement('tr');
            const ticketIdCell = document.createElement('td');
            const clientCell = document.createElement('td');
            const problemCell = document.createElement('td');
            const descriptionCell = document.createElement('td');
            const statusCell = document.createElement('td');
            const openDateCell = document.createElement('td');
            const closeDateCell = document.createElement('td');

            ticketIdCell.textContent = ticket.ticketId;
            clientCell.textContent = ticket.client; // Affiche l'email du client
            problemCell.textContent = ticket.problem;
            descriptionCell.textContent = ticket.description;
            statusCell.textContent = ticket.status;
            openDateCell.textContent = ticket.openDate;
            closeDateCell.textContent = ticket.closeDate;

            row.appendChild(ticketIdCell);
            row.appendChild(clientCell);
            row.appendChild(problemCell);
            row.appendChild(descriptionCell);
            row.appendChild(statusCell);
            row.appendChild(openDateCell);
            row.appendChild(closeDateCell);

            statsBody.appendChild(row);
        });
    }

    // Appelle cette fonction au chargement de la page admin
    window.onload = updateTicketsTable;
</script>
